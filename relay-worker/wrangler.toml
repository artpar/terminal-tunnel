name = "terminal-tunnel-relay"
main = "worker.js"
compatibility_date = "2024-01-01"

[[d1_databases]]
binding = "DB"
database_name = "terminal-tunnel-sessions"
database_id = "cad6878e-ff6b-4454-8284-6b9c04d6abd7"

# Cleanup expired sessions daily at midnight UTC
[triggers]
crons = ["0 0 * * *"]

# Optional: Set custom web client URL for forked deployments
# [vars]
# CLIENT_URL = "https://yourusername.github.io/terminal-tunnel"

# TURN server configuration for NAT traversal (hosted on emptychair.dev)
[vars]
TURN_URL = "turn:emptychair.dev:3478,turn:emptychair.dev:3478?transport=tcp"
TURN_USERNAME = "terminaltunnel"
TURN_PASSWORD = "Tt2024SecurePass!"
